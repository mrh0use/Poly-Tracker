Replace the has_prior_activity function in polymarket_client.py (around line 725) with this:
pythonasync def has_prior_activity(self, wallet_address: str) -> Optional[bool]:
    """Check if wallet has prior TRADES using the /activity endpoint with TRADE filter."""
    wallet_lower = wallet_address.lower()
    now = datetime.utcnow()
    
    # Check cache first
    if wallet_lower in self._wallet_history_cache:
        last_updated = self._wallet_history_updated.get(wallet_lower)
        if last_updated and (now - last_updated).total_seconds() < 3600:
            cached = self._wallet_history_cache[wallet_lower]
            print(f"[FRESH CHECK] Cache hit for {wallet_address[:10]}...: has_trades={cached}", flush=True)
            return cached
    
    await self.ensure_session()
    
    # Use /activity endpoint with type=TRADE filter
    # This reliably works with proxy wallet addresses unlike /trades
    try:
        async with self.session.get(
            f"{self.DATA_API_BASE_URL}/activity",
            params={"user": wallet_address, "type": "TRADE", "limit": 2}
        ) as resp:
            if resp.status == 200:
                data = await resp.json()
                # If 2+ trades exist, wallet has prior history (not fresh)
                # If 0-1 trades, this could be their first trade (fresh)
                trade_count = len(data) if isinstance(data, list) else 0
                has_prior = trade_count >= 2
                
                self._wallet_history_cache[wallet_lower] = has_prior
                self._wallet_history_updated[wallet_lower] = now
                print(f"[FRESH CHECK] /activity API for {wallet_address[:10]}...: has_prior={has_prior} (trade_count={trade_count})", flush=True)
                return has_prior
            print(f"[FRESH CHECK] API error status {resp.status} for {wallet_address[:10]}...", flush=True)
    except Exception as e:
        print(f"[FRESH CHECK] Exception for {wallet_address[:10]}...: {e}", flush=True)
    
    return None
```

---

**After deploying, you should see logs like:**
```
[FRESH CHECK] /activity API for 0x73bcd24d...: has_prior=True (trade_count=2)
This confirms the wallet has prior trade history and won't trigger a false fresh wallet alert.