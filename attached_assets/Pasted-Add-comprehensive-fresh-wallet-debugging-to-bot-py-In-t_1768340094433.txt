Add comprehensive fresh wallet debugging to bot.py
In the WebSocket trade handler, around line 2350, replace this section:
pythonwallet_activity = session.query(WalletActivity).filter_by(wallet_address=wallet).first()
is_fresh = False
if wallet_activity is None:
    try:
        has_history = await asyncio.wait_for(
            polymarket_client.has_prior_activity(wallet),
            timeout=2.0
        )
    except asyncio.TimeoutError:
        has_history = True
        print(f"[WS] Activity check timeout for {wallet[:10]}...", flush=True)
    if has_history is False:
        is_fresh = True
    session.add(WalletActivity(wallet_address=wallet, transaction_count=1))
    session.commit()
else:
    wallet_activity.transaction_count += 1
    session.commit()
With this:
pythonwallet_activity = session.query(WalletActivity).filter_by(wallet_address=wallet).first()
is_fresh = False

# DEBUG: Log every wallet check for trades >= $1000
if value >= 1000:
    print(f"[FRESH DEBUG] Wallet {wallet[:10]}... | value=${value:,.0f} | in_db={wallet_activity is not None}", flush=True)

if wallet_activity is None:
    print(f"[FRESH DEBUG] New wallet {wallet[:10]}... - calling API", flush=True)
    try:
        has_history = await asyncio.wait_for(
            polymarket_client.has_prior_activity(wallet),
            timeout=2.0
        )
        print(f"[FRESH DEBUG] API returned has_history={has_history} for {wallet[:10]}...", flush=True)
    except asyncio.TimeoutError:
        has_history = True
        print(f"[FRESH DEBUG] API TIMEOUT for {wallet[:10]}...", flush=True)
    except Exception as e:
        has_history = True
        print(f"[FRESH DEBUG] API ERROR for {wallet[:10]}...: {e}", flush=True)
    
    if has_history is False:
        is_fresh = True
        print(f"[FRESH DEBUG] ✓ FRESH WALLET CONFIRMED: {wallet[:10]}... ${value:,.0f}", flush=True)
    else:
        print(f"[FRESH DEBUG] ✗ Not fresh (has history): {wallet[:10]}...", flush=True)
    
    session.add(WalletActivity(wallet_address=wallet, transaction_count=1))
    session.commit()
else:
    wallet_activity.transaction_count += 1
    session.commit()
Also add debugging to has_prior_activity() in polymarket_client.py. Find the function and add prints:
pythonasync def has_prior_activity(self, wallet_address: str) -> Optional[bool]:
    wallet_lower = wallet_address.lower()
    now = datetime.utcnow()
    
    if wallet_lower in self._wallet_history_cache:
        last_updated = self._wallet_history_updated.get(wallet_lower)
        if last_updated and (now - last_updated).total_seconds() < 3600:
            print(f"[FRESH API] Cache hit for {wallet_address[:10]}...: {self._wallet_history_cache[wallet_lower]}", flush=True)
            return self._wallet_history_cache[wallet_lower]
    
    await self.ensure_session()
    try:
        print(f"[FRESH API] Calling /activity for {wallet_address[:10]}... with limit=2", flush=True)
        async with self.session.get(
            f"{self.DATA_API_BASE_URL}/activity",
            params={"user": wallet_address, "limit": 2}
        ) as resp:
            if resp.status == 200:
                data = await resp.json()
                activity_count = len(data) if isinstance(data, list) else 0
                has_history = activity_count > 1
                print(f"[FRESH API] {wallet_address[:10]}...: {activity_count} activities, has_history={has_history}", flush=True)
                self._wallet_history_cache[wallet_lower] = has_history
                self._wallet_history_updated[wallet_lower] = now
                return has_history
            print(f"[FRESH API] Bad status {resp.status} for {wallet_address[:10]}...", flush=True)
    except Exception as e:
        print(f"[FRESH API] Error for {wallet_address[:10]}...: {e}", flush=True)
    return None